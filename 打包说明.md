# 温暖鼓励小工具 - 打包说明文档

## 📋 项目概述

这是一个在屏幕上随机显示温暖鼓励文字的小工具，使用Python的tkinter库开发。

## 📁 文件说明

- `好好的.py` - 原始版本（支持双屏，窗口显示在最右边的屏幕）
- `好好的_单屏版.py` - 单屏版本（适用于单显示器环境）
- `requirements.txt` - 项目依赖列表
- `build_exe.py` - 自动打包脚本
- `打包说明.md` - 本文档

## 🚀 快速打包（推荐方法）

### 方法一：使用自动打包脚本

1. **安装依赖**
   ```powershell
   pip install -r requirements.txt
   ```

2. **运行打包脚本**
   ```powershell
   python build_exe.py
   ```

3. **获取exe文件**
   - 打包完成后，在 `dist` 文件夹中找到 `温暖鼓励小工具.exe`
   - 这个exe文件可以直接运行，无需安装Python环境

## 🛠️ 手动打包（进阶方法）

### 步骤1：安装PyInstaller

```powershell
pip install pyinstaller
```

### 步骤2：执行打包命令

**打包单屏版本：**
```powershell
pyinstaller --onefile --windowed --name=温暖鼓励小工具 好好的_单屏版.py
```

**打包双屏版本：**
```powershell
pyinstaller --onefile --windowed --name=温暖鼓励小工具_双屏版 好好的.py
```

### 步骤3：查找生成的exe文件

打包完成后，exe文件位于：
```
dist/温暖鼓励小工具.exe
```

## 📦 打包参数说明

- `--onefile` - 将所有文件打包成单个exe文件（便于分发）
- `--windowed` - 不显示控制台窗口（GUI程序必需）
- `--name=xxx` - 指定生成的exe文件名
- `--clean` - 清理之前的打包缓存
- `--noconfirm` - 覆盖输出时不询问

## 🗂️ 打包后的文件结构

```
项目文件夹/
├── 好好的.py                    # 原始双屏版本
├── 好好的_单屏版.py              # 单屏版本
├── build_exe.py                 # 打包脚本
├── requirements.txt             # 依赖文件
├── 打包说明.md                  # 说明文档
├── build/                       # 临时构建文件（可删除）
├── dist/                        # 最终exe文件所在目录
│   └── 温暖鼓励小工具.exe       # 最终可执行文件 ⭐
└── 温暖鼓励小工具.spec          # PyInstaller配置（可删除）
```

## 🧹 清理临时文件

打包成功后，可以删除以下文件/文件夹以节省空间：
- `build/` 文件夹
- `*.spec` 文件

**保留的重要文件：**
- `dist/温暖鼓励小工具.exe` - 这是最终的可执行程序

## ⚙️ 程序功能说明

### 单屏版 (`好好的_单屏版.py`)
- 在主屏幕上随机位置显示200个浮动窗口
- 每个窗口显示一句温暖鼓励的话
- 窗口背景颜色随机
- 窗口每70毫秒创建一个

### 双屏版 (`好好的.py`)
- 在最右边的屏幕上显示（如果有多个显示器）
- 单显示器时自动退化为主屏幕显示
- 其他功能同单屏版

## 🎨 自定义配置

如果想修改程序行为，可以编辑源代码中的以下参数：

```python
# 窗口数量和创建速度
create_windows_periodically(root, 200, 70)
#                               ↑    ↑
#                            窗口数  延迟(毫秒)

# 窗口尺寸
window_width = 200
window_height = 100

# 字体设置
font=('楷体', 18)
```

## ⚠️ 注意事项

1. **首次打包时间较长** - PyInstaller需要分析所有依赖，大约需要1-3分钟
2. **杀毒软件误报** - 打包的exe可能被杀毒软件误报，需要添加信任
3. **文件体积** - 打包后的exe文件大约10-20MB（包含Python运行时）
4. **兼容性** - 生成的exe文件仅适用于Windows系统

## 🐛 常见问题

### Q: 打包失败提示"pyinstaller不是内部或外部命令"？
A: 需要先安装PyInstaller：`pip install pyinstaller`

### Q: 打包的exe运行时报错？
A: 确保使用 `--windowed` 参数，否则tkinter程序可能无法正常运行

### Q: exe文件太大？
A: 这是正常的，因为包含了整个Python运行时环境

### Q: 如何减小exe体积？
A: 可以使用 `--onedir` 替代 `--onefile`，但会生成一个文件夹而不是单个exe

## 📞 技术支持

如有问题，请检查：
1. Python版本（建议3.7+）
2. PyInstaller版本（建议最新版）
3. 是否在正确的目录下运行命令
4. 源文件是否存在且无语法错误

## 📝 版本历史

- **v1.0** - 初始版本，包含双屏和单屏两个版本
